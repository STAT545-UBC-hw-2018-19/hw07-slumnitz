<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Stefanie Lumnitz" />

<meta name="date" content="2018-11-14" />

<title>Using the coords package</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Using the <code>coords</code> package</h1>
<h4 class="author"><em>Stefanie Lumnitz</em></h4>
<h4 class="date"><em>2018-11-14</em></h4>



<p><strong>Note</strong>: This R package was developed for a class assignment. It is useful but not maintained.</p>
<p>This is an R package that allows you to attach values to coordinate points and manipulate them. This is especially valuable in spatial analysis, if you for example want to compare observations at the same coordinate points for different years, or over different domains.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(coordinates)</a></code></pre></div>
<div id="create-objects" class="section level1">
<h1>Create Objects</h1>
<p>For illustration purposes, we are generating our own coordinates used in our fieldwork:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">lon &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="dv">5</span>), <span class="dv">2</span>) <span class="co"># rounded to two decimal points</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">lat &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="dv">5</span>), <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">coordinates &lt;-<span class="st"> </span><span class="kw">coords</span>(lon, lat)</a></code></pre></div>
<p>We created a new object in the <code>coords</code> class, hereby automatically checking if the data is “clean”:</p>
<ul>
<li>does not contain NA or Inf values</li>
<li>x and y are numeric</li>
<li>vectors have the same length</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">class</span>(coordinates)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; [1] &quot;coords&quot;</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">coordinates <span class="co"># what does our object contain?</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; [1] (-1.30,  0.86) (-2.33, -0.28) (-1.27, -1.61) (-1.10,  0.21)</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt; [5] ( 1.09,  0.80)</span></a></code></pre></div>
<p>As you can see coordinate pairs are automatically printed in the format <code>(lon, lat)</code>.</p>
<div id="inspect-objects" class="section level2">
<h2>Inspect Objects</h2>
<p>This package allows us to inspect our <code>coords</code> objects with <code>length()</code> and <code>edge()</code></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">length</span>(coordinates) <span class="co"># how many coordinate pairs are there?</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt; [1] 5</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">knitr<span class="op">::</span><span class="kw">kable</span>(<span class="kw">edge</span>(coordinates)) <span class="co"># what are the edge coorinates?</span></a></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">min</th>
<th align="right">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>x:</td>
<td align="right">-2.33</td>
<td align="right">1.09</td>
</tr>
<tr class="even">
<td>y:</td>
<td align="right">-1.61</td>
<td align="right">0.86</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="add-collected-values-to-coordinates" class="section level1">
<h1>Add collected values to coordinates</h1>
<p>We can also add our, in the field collected values to coordinate pairs:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">values &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">100</span>))</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">(value_coords &lt;-<span class="st"> </span><span class="kw">vcoords</span>(lat, lon, values))</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; [1] ( 0.86, -1.30; 38) (-0.28, -2.33; 42) (-1.61, -1.27; 44)</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt; [4] ( 0.21, -1.10; 20) ( 0.80,  1.09; 20)</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="kw">values</span>(value_coords)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; [1] 38 42 44 20 20</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="kw">class</span>(value_coords)</a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; [1] &quot;vcoords&quot; &quot;coords&quot;</span></a></code></pre></div>
<div id="analyse-or-manipulate-values" class="section level2">
<h2>Analyse or manipulate values</h2>
<p>We can manipulate and transform our values in the <code>vcoords</code> class. We could:</p>
<ul>
<li>Apply a mathematical function to the values</li>
<li>add, subtract, multiply or divide corresponding values in two objects, e.g. if we collected values at the same locations over two times</li>
<li>compare values in these two objects</li>
<li>negate the values</li>
</ul>
<p>We can use the <code>Group method</code> <code>math.vcoords</code> for this:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">sqrt</span>(value_coords)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt; [1] ( 0.86, -1.30; 6.164414) (-0.28, -2.33; 6.480741)</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; [3] (-1.61, -1.27; 6.633250) ( 0.21, -1.10; 4.472136)</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; [5] ( 0.80,  1.09; 4.472136)</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="kw">log</span>(value_coords)</a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; [1] ( 0.86, -1.30; 3.637586) (-0.28, -2.33; 3.737670)</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; [3] (-1.61, -1.27; 3.784190) ( 0.21, -1.10; 2.995732)</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; [5] ( 0.80,  1.09; 2.995732)</span></a></code></pre></div>
<p>In addition we can also use arithmetic methods on our objects values:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">value_coords <span class="op">*</span><span class="st"> </span><span class="dv">20</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; [1] ( 0.86, -1.30; 760) (-0.28, -2.33; 840) (-1.61, -1.27; 880)</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; [4] ( 0.21, -1.10; 400) ( 0.80,  1.09; 400)</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">value_coords <span class="op">&gt;</span><span class="st"> </span><span class="dv">50</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; [1] FALSE FALSE FALSE FALSE FALSE</span></a></code></pre></div>
<p>We can furthermore multiply or manipulate values from coordinate points for two <code>vcoords</code> class objects:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">values_nextyear &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">100</span>))</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">(value_nextyear &lt;-<span class="st"> </span><span class="kw">vcoords</span>(lat, lon, values_nextyear))</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt; [1] ( 0.86, -1.30; 68) (-0.28, -2.33; 74) (-1.61, -1.27; 34)</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; [4] ( 0.21, -1.10; 37) ( 0.80,  1.09;  8)</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"></a>
<a class="sourceLine" id="cb8-6" data-line-number="6">value_coords <span class="op">*</span><span class="st"> </span>values_nextyear</a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt; [1] ( 0.86, -1.30; 2584) (-0.28, -2.33; 3108) (-1.61, -1.27; 1496)</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt; [4] ( 0.21, -1.10;  740) ( 0.80,  1.09;  160)</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">value_coords <span class="op">&gt;</span><span class="st"> </span>values_nextyear</a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt; [1] FALSE FALSE  TRUE FALSE  TRUE</span></a></code></pre></div>
<p>Check out this <a href="https://www.stat.auckland.ac.nz/~stats782/downloads/08-Objects-S3-handouts.pdf">information</a> for a deeper understanding of our methodology.</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
